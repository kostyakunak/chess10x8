import { PieceColor, PieceType } from '../types/chess';

interface ChessPieceProps {
  color: PieceColor;
  type: PieceType;
  size?: number;
}

// SVG пути для фигур (стандартные шахматные фигуры)
const PIECE_PATHS: { [key: string]: string } = {
  // Король
  'K': 'M 22.5,11.63 L 22.5,6 L 25,6 L 25,11.63 C 27,12.5 28.5,14.5 28.5,17 C 28.5,19.8 26.3,22 23.5,22 C 20.7,22 18.5,19.8 18.5,17 C 18.5,14.5 20,12.5 22.5,11.63 Z M 12.5,8 L 12.5,10.5 L 11,10.5 L 11,8 L 12.5,8 Z M 20,8 L 20,10.5 L 18.5,10.5 L 18.5,8 L 20,8 Z M 27,8 L 27,10.5 L 25.5,10.5 L 25.5,8 L 27,8 Z M 33.5,8 L 33.5,10.5 L 32,10.5 L 32,8 L 33.5,8 Z M 12.5,25 L 12.5,27.5 L 11,27.5 L 11,25 L 12.5,25 Z M 20,25 L 20,27.5 L 18.5,27.5 L 18.5,25 L 20,25 Z M 27,25 L 27,27.5 L 25.5,27.5 L 25.5,25 L 27,25 Z M 33.5,25 L 33.5,27.5 L 32,27.5 L 32,25 L 33.5,25 Z',
  
  // Ферзь
  'Q': 'M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 Z M 9,26 C 9,28 10.5,28.5 12.5,28.5 C 16.5,28.5 18.5,25.5 22.5,25.5 C 26.5,25.5 28.5,28.5 32.5,28.5 C 34.5,28.5 36,28 36,26 C 27,24 17,24 9,26 Z M 11.5,30 C 17,30 19,32.5 22.5,32.5 C 26,32.5 28,30 33.5,30 C 35,30 35.5,30.5 35.5,31.5 C 35.5,32.5 35,33 33.5,33 C 28,33 26,35.5 22.5,35.5 C 19,35.5 17,33 11.5,33 C 10,33 9.5,32.5 9.5,31.5 C 9.5,30.5 10,30 11.5,30 Z',
  
  // Ладья
  'R': 'M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 Z M 12.5,32 L 14,32 L 14,29.5 L 12.5,29.5 L 12.5,32 Z M 20,32 L 21.5,32 L 21.5,29.5 L 20,29.5 L 20,32 Z M 27,32 L 28.5,32 L 28.5,29.5 L 27,29.5 L 27,32 Z M 33.5,32 L 35,32 L 35,29.5 L 33.5,29.5 L 33.5,32 Z M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 Z M 14,29.5 L 14,16 L 31,16 L 31,29.5 L 14,29.5 Z M 14,16 L 11,16 L 11,14 L 34,14 L 34,16 L 31,16 L 31,29.5 L 14,29.5 Z M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 Z M 15,9 L 15,6.5 L 18,6.5 L 18,9 L 15,9 Z M 27,9 L 27,6.5 L 30,6.5 L 30,9 L 27,9 Z',
  
  // Слон
  'B': 'M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 15,30 L 11.5,33.5 L 11.5,39 L 15,39 L 15,30 Z M 30,30 L 33.5,33.5 L 33.5,39 L 30,39 L 30,30 Z M 11.5,33.5 L 15,30 L 11.5,26.5 L 11.5,33.5 Z M 33.5,33.5 L 30,30 L 33.5,26.5 L 33.5,33.5 Z M 11.5,26.5 L 15,26.5 L 15,23.5 L 11.5,23.5 L 11.5,26.5 Z M 30,26.5 L 33.5,26.5 L 33.5,23.5 L 30,23.5 L 30,26.5 Z M 15,23.5 L 15,18.5 L 11.5,18.5 L 11.5,14 L 15,14 L 15,9.5 L 20,9.5 L 20,14 L 25,14 L 25,9.5 L 30,9.5 L 30,14 L 33.5,14 L 33.5,18.5 L 30,18.5 L 30,23.5 L 15,23.5 Z',
  
  // Конь
  'N': 'M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 25,32.5 C 25,32.5 15,26 15,19 C 15,14.5 18,10 22,10 Z M 24,18.5 C 24.5,18.5 25.5,18.5 25.5,19.5 C 25.5,20.5 24.5,20.5 24,20.5 C 23.5,20.5 22.5,20.5 22.5,19.5 C 22.5,18.5 23.5,18.5 24,18.5 Z',
  
  // Пешка
  'P': 'M 22.5,9 C 20.5,9 19,10.5 19,12.5 C 19,14.5 20.5,16 22.5,16 C 24.5,16 26,14.5 26,12.5 C 26,10.5 24.5,9 22.5,9 Z M 22.5,16 L 22.5,33.5 L 19,33.5 L 19,39 L 26,39 L 26,33.5 L 22.5,33.5 L 22.5,16 Z',
};

export default function ChessPiece({ color, type, size = 45 }: ChessPieceProps) {
  const path = PIECE_PATHS[type];
  if (!path) return null;

  // Стили как на chess.com:
  // Белые: белый цвет с черной обводкой
  // Черные: темно-серый цвет с черной обводкой
  const fillColor = color === 'w' ? '#ffffff' : '#4a5568'; // Белый или темно-серый (тусклый)
  const strokeColor = '#000000'; // Черная обводка для всех
  const strokeWidth = color === 'w' ? 1.8 : 1.5; // Чуть толще обводка для белых

  return (
    <svg
      width={size}
      height={size}
      viewBox="0 0 45 45"
      style={{
        display: 'block',
        width: '100%',
        height: '100%',
        maxWidth: '100%',
        maxHeight: '100%',
      }}
      preserveAspectRatio="xMidYMid meet"
    >
      <g
        fill={fillColor}
        fillRule="evenodd"
        stroke={strokeColor}
        strokeWidth={strokeWidth}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d={path} />
      </g>
    </svg>
  );
}

